import pytest
from two_heaps import *

@pytest.mark.parametrize("tasks, expected_number_machines", [
    ([(12, 13), (13, 15), (17, 20), (13, 14), (19, 21), (18, 20)], 3),
    ([(2, 3), (4, 7), (8, 18), (19, 25), (26, 30)], 1),
    ([(2, 5), (2, 5), (2, 5), (2, 5)], 4),
    ([(1, 7), (8, 13), (5, 6), (10, 14), (6, 7)], 2),
    ([], 0),
    ([(1, 2)], 1),
    ([(1, 2), (3, 4)], 1),
    ([(1, 7), (8, 9), (3, 6), (9, 14), (6, 7)], 2),
    ([(5, 6), (5, 6), (5, 6), (5, 6), (6, 7)], 4),
    ([(1, 3), (2, 6), (5, 9), (4, 7), (8, 10), (8, 10), (12, 15)], 3),
    ([[1,1],[5,5],[8,8],[4,4],[6,6],[10,10],[7,7]], 1),
    ([[1,7],[1,7],[1,7],[1,7],[1,7],[1,7]], 6),
    ([[1,7],[8,13],[5,6],[10,14],[6,7]], 2),
    ([[1,3],[3,5],[5,9],[9,12],[12,13],[13,16],[16,17]], 1),
    ([[12,13],[13,15],[17,20],[13,14],[19,21],[18,20]], 3),
])

def test_number_machines(tasks, expected_number_machines):
    assert number_machines(tasks) == expected_number_machines