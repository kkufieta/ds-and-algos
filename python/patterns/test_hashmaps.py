import pytest
from hashmaps import *

@pytest.mark.parametrize("s, expected", [
    ("aab", True),
    ("acb", False),
    ("abb", True),
    ("axbk", False),
    ("", True),
    ("a", True),
    ("abab", True),
    ("peas", False),
    ("racecar", True),
    ("code", False),
    ("baefeab", True),
])
def test_permutation_is_palindrome(s, expected):
    assert permutation_is_palindrome(s) == expected


@pytest.mark.parametrize("words, expected", [
    (["act","pots","tops","cat","stop","hat"], [["hat"],["act", "cat"],["stop", "pots", "tops"]]),
    (["x"], [["x"]]),
    ([""], [[""]]),
    (["eat","tea","tan","ate","nat","bat"], [["eat","tea","ate"],["tan","nat"],["bat"]]),
    (["compilations","bewailed","horology","lactated","blindsided","swoop","foretasted","ware","abuts","stepchild","arriving","magnet","vacating","relegates","scale","melodically","proprietresses","parties","ambiguities","bootblacks","shipbuilders","umping","belittling","lefty","foremost","bifocals","moorish","temblors","edited","hint","serenest","rendezvousing","schoolmate","fertilizers","daiquiri","starr","federate","rectal","case","kielbasas","monogamous","inflectional","zapata","permitted","concessions","easters","communique","angelica","shepherdess","jaundiced","breaks","raspy","harpooned","innocence","craters","cajun","pueblos","housetop","traits","bluejacket","pete","snots","wagging","tangling","cheesecakes","constructing","balanchine","paralyzed","aftereffects","dotingly","definitions","renovations","surfboards","lifework","knacking","apprises","minimalism","skyrocketed","artworks","instrumentals","eardrums","hunching","codification","vainglory","clarendon","peters","weeknight","statistics","ay","aureomycin","lorrie","compassed","speccing","galen","concerto","rocky","derision","exonerate","sultrier","mastoids","repackage","cyclical","gowns","regionalism","supplementary","bierce","darby","memorize","songster","biplane","calibrates","decriminalizes","shack","idleness","confessions","snippy","barometer","earthing","sequence","hastiness","emitted","superintends","stockades","busywork","dvina","aggravated","furbelow","hashish","overextended","foreordain","lie","insurance","recollected","interpreted","congregate","ranks","juts","dampen","gaits","eroticism","neighborhoods","perihelion","simulations","fumigating","balkiest","semite","epicure","heavier","masterpiece","bettering","lizzie","wail","batsmen","unbolt","cudgeling","bungalow","behalves","refurnishes","pram","spoonerisms","cornered","rises","encroachments","gabon","cultivation","parsed","takeovers","stampeded","persia","devotional","doorbells","psalms","cains","copulated","archetypal","cursores","inbred","paradigmatic","thesauri","rose","stopcocks","weakness","ballsier","jagiellon","torches","hover","conservationists","brightening","dotted","rodgers","mandalay","overjoying","supervision","gonads","portage","crap","capers","posy","collateral","funny","garvey","ravenously","arias","kirghiz","elton","gambolled","highboy","kneecaps","southey","etymology","overeager","numbers","ebullience","unseemly","airbrushes","excruciating","gemstones","juiciest","muftis","shadowing","organically","plume","guppy","obscurely","clinker","confederacies","unhurried","monastic","witty","breastbones","ijsselmeer","dublin","linnaeus","dervish","bluefish","selectric","syllable","pogroms","pacesetters","anastasia","pandora","foci","bipartisan","loomed","emits","gracious","warfare","uncouples","augusts","portray","refinery","resonances","expediters","deputations","indubitably","richly","motivational","gringo","hubris","mislay","scad","lambastes","reemerged","wart","zirconium","linus","moussorgsky","swopped","sufferer","sputtered","tamed","merrimack","conglomerate","blaspheme","overcompensate","rheas","pares","ranted","prisoning","rumor","gabbles","lummox","lactated","unzipping","tirelessly","backdate","puzzling","interject","rejections","bust","centered","oxymoron","tangibles","sejong","not","tameness","consumings","prostrated","rowdyism","ardent","macabre","rustics","dodoes","warheads","wraths","bournemouth","staffers","retold","stiflings","petrifaction","larkspurs","crunching","clanks","briefest","clinches","attaching","extinguished","ryder","shiny","antiqued","gags","assessments","simulated","dialed","confesses","livelongs","dimensions","lodgings","cormorants","canaries","spineless","widening","chappaquiddick","blurry","lassa","vilyui","desertions","trinket","teamed","bidets","mods","lessors","impressiveness","subjugated","rumpuses","swamies","annotations","batiks","ratliff","waxwork","grander","junta","chutney","exalted","yawl","joke","vocational","diabetic","bullying","edit","losing","banns","doleful","precision","excreting","foals","smarten","soliciting","disturbance","soggily","gabrielle","margret","faded","pane","jerusalem","bedpan","overtaxed","brigs","honors","repackage","croissants","kirov","crummier","limeades","grandson","criers","bring","jaundicing","omnibusses","gawking","tonsillectomies","deodorizer","nosedove","commence","faulkner","adultery","shakedown","wigwag","wiper","compatible","ultra","adamant","distillation","gestates","semi","inmate","onlookers","grudgingly","recipe","chaise","dialectal","aphids","flimsier","orgasm","sobs","swellheaded","utilize","karenina","irreparably","preteen","mumble","gingersnaps","alumnus","chummiest","snobbish","crawlspaces","inappropriate","ought","continence","hydrogenate","eskimo","desolated","oceanic","evasive","sake","laziest","tramps","joyridden","acclimatized","riffraff","thanklessly","harmonizing","guinevere","demanded","capabler","syphilitics","brainteaser","creamers","upholds","stiflings","walt","luau","deafen","concretely","unhand","animations","map","limbos","tranquil","windbreakers","limoges","varying","declensions","signs","green","snowbelt","homosexual","hopping","residue","ransacked","emeritus","pathologist","brazenly","forbiddingly","alfredo","glummest","deciphered","delusive","repentant","complainants","beets","syntactics","vicissitude","incompetents","concur","canaan","rowdies","streamer","martinets","shapeliness","videodiscs","restfulness","rhea","consumed","pooching","disenfranchisement","impoverishes","behalf","unsuccessfully","complicity","ulcerating","derisive","jephthah","clearing","reputation","kansan","sledgehammer","benchmarks","escutcheon","portfolios","mandolins","marketable","megalomaniacs","kinking","bombarding","wimple","perishes","rukeyser","squatter","coddle","traditionalists","sifts","agglomerations","seasonings","brightness","spices","claimant","sofas","ambulatories","bothered","businessmen","orly","kinetic","contracted","grenadiers","flooding","dissolved","corroboration","mussed","squareness","alabamans","dandelions","labyrinthine","pot","waxwing","residential","pizza","overjoying","whelps","overlaying","elanor","tented","masterminded","balsamed","powerhouses","tramps","eisenstein","voile","repellents","beaus","coordinated","wreckers","eternities","untwists","estrangements","vitreous","embodied"], [["untwists"],["eternities"],["wreckers"],["coordinated"],["repellents"],["balsamed"],["masterminded"],["tented"],["overlaying"],["whelps"],["pizza"],["residential"],["waxwing"],["pot"],["labyrinthine"],["sake"],["deputations"],["obscurely"],["businessmen"],["cyclical"],["kneecaps"],["emeritus"],["resonances"],["refinery"],["zapata"],["behalf"],["decriminalizes"],["juiciest"],["guppy"],["easters"],["emits"],["furbelow"],["linus"],["vilyui"],["loomed"],["deciphered"],["bipartisan"],["bewailed"],["distillation"],["pacesetters"],["syllable"],["bring"],["selectric"],["bluefish"],["dublin"],["stopcocks"],["grander"],["breastbones"],["unhurried"],["perihelion"],["clinker"],["balkiest"],["southey"],["ransacked"],["clearing"],["airbrushes"],["muftis"],["ravenously"],["artworks"],["garvey"],["funny"],["grudgingly"],["collateral"],["posy"],["tamed"],["dampen"],["gonads"],["hunching"],["earthing"],["mandalay"],["kinetic"],["rodgers"],["wimple"],["hover"],["snippy"],["puzzling"],["jagiellon"],["thesauri"],["commence"],["claimant"],["supervision"],["gawking"],["conservationists"],["copulated"],["cains"],["doorbells"],["orgasm"],["pram"],["persia"],["cudgeling"],["rheas"],["gabon"],["unbolt"],["wail"],["weakness"],["bettering"],["masterpiece"],["marketable"],["beaus"],["heavier"],["widening"],["shakedown"],["consumed"],["traits"],["inbred"],["neighborhoods"],["highboy"],["adamant"],["batsmen"],["gaits"],["juts"],["powerhouses"],["gags"],["ranks"],["aphids"],["estrangements"],["congregate"],["videodiscs"],["dervish"],["overtaxed"],["interpreted"],["foreordain"],["ebullience"],["insurance"],["moussorgsky"],["crap"],["housetop"],["cajun"],["relegates"],["codification"],["conglomerate"],["harpooned"],["overjoying","overjoying"],["shack"],["disturbance"],["witty"],["derision"],["joke"],["instrumentals"],["richly"],["angelica"],["sputtered"],["kielbasas"],["memorize"],["eroticism"],["compassed"],["communique"],["canaries"],["rendezvousing"],["serenest"],["deafen"],["daiquiri"],["rustics"],["elton"],["edited"],["lactated","lactated"],["indubitably"],["riffraff"],["backdate"],["stampeded"],["spoonerisms"],["semite"],["fertilizers"],["moorish"],["centered"],["ulcerating"],["coddle"],["knacking"],["prostrated"],["bedpan"],["bungalow"],["numbers"],["schoolmate"],["bootblacks"],["gracious"],["abuts"],["rose"],["rumor"],["regionalism"],["honors"],["shepherdess"],["spices"],["sofas"],["bifocals"],["definitions"],["ware"],["balanchine"],["monastic"],["kirghiz"],["grandson"],["calibrates"],["proprietresses"],["pueblos"],["vacating"],["concretely"],["excruciating"],["delusive"],["galen"],["foremost"],["oceanic"],["melodically"],["encroachments"],["tangibles"],["sultrier"],["dodoes"],["ambiguities"],["etymology"],["complainants"],["behalves"],["stepchild"],["horology"],["paralyzed"],["tramps","tramps"],["inflectional"],["swamies"],["margret"],["arriving"],["preteen"],["superintends"],["ijsselmeer"],["gambolled"],["desolated"],["starr"],["alabamans"],["uncouples"],["rectal"],["rises"],["busywork"],["faulkner"],["capabler"],["umping"],["wigwag"],["eardrums"],["permitted"],["stiflings","stiflings"],["deodorizer"],["lodgings"],["arias"],["extinguished"],["jaundiced"],["tangling"],["shadowing"],["hint"],["darby"],["compilations"],["apprises"],["lefty"],["gemstones"],["temblors"],["bluejacket"],["zirconium"],["linnaeus"],["snots"],["gingersnaps"],["batiks"],["mastoids"],["cursores"],["map"],["torches"],["confederacies"],["cheesecakes"],["aftereffects"],["pathologist"],["dotingly"],["epicure"],["clinches"],["flooding"],["clarendon"],["agglomerations"],["case"],["hashish"],["teamed"],["elanor"],["foci"],["surfboards"],["anastasia"],["overextended"],["smarten"],["lifework"],["swoop"],["exalted"],["minimalism"],["tirelessly"],["swellheaded"],["repackage","repackage"],["skyrocketed"],["vainglory"],["voile"],["wagging"],["sifts"],["blindsided"],["peters"],["statistics"],["ay"],["ratliff"],["renovations"],["speccing"],["portray"],["wraths"],["concerto"],["complicity"],["dissolved"],["scale"],["exonerate"],["psalms"],["gowns"],["pogroms"],["warfare"],["cornered"],["dialectal"],["craters"],["weeknight"],["idleness"],["songster"],["confessions"],["repentant"],["streamer"],["archetypal"],["waxwork"],["mislay"],["irreparably"],["rhea"],["biplane"],["unseemly"],["sequence"],["kansan"],["dotted"],["hastiness"],["overeager"],["emitted"],["alumnus"],["squatter"],["pandora"],["aureomycin"],["stockades"],["aggravated"],["bierce"],["gringo"],["hubris"],["lambastes"],["jerusalem"],["megalomaniacs"],["wart"],["swopped"],["merrimack"],["dandelions"],["blaspheme"],["sufferer"],["overcompensate"],["canaan"],["omnibusses"],["pares"],["ardent","ranted"],["lummox"],["rowdies"],["interject"],["portage"],["rejections"],["bust"],["concur"],["oxymoron"],["pete"],["scad"],["sejong"],["plume"],["not"],["tameness"],["consumings"],["rowdyism"],["contracted"],["cultivation"],["supplementary"],["macabre"],["restfulness"],["warheads"],["lassa"],["simulations"],["unhand"],["bournemouth"],["blurry"],["portfolios"],["concessions"],["retold"],["petrifaction"],["yawl"],["crunching"],["varying"],["larkspurs"],["bullying"],["clanks"],["unzipping"],["attaching"],["ryder"],["shiny"],["incompetents"],["laziest"],["antiqued"],["fumigating"],["assessments"],["simulated"],["impressiveness"],["vitreous"],["briefest"],["vicissitude"],["eskimo"],["shipbuilders"],["gabbles"],["dialed"],["dimensions"],["motivational"],["cormorants"],["spineless"],["refurnishes"],["chappaquiddick"],["desertions"],["trinket"],["bidets"],["mods"],["recollected"],["lessors"],["parsed"],["foretasted"],["subjugated"],["rumpuses"],["lorrie"],["annotations"],["junta"],["magnet"],["chutney"],["vocational"],["squareness"],["diabetic"],["edit"],["ought"],["losing"],["banns"],["doleful"],["excreting"],["embodied"],["foals"],["breaks"],["soliciting"],["pooching"],["parties"],["confesses"],["soggily"],["livelongs"],["martinets"],["gabrielle"],["faded"],["utilize"],["ballsier"],["brigs"],["dvina"],["croissants"],["constructing"],["rukeyser"],["federate"],["crummier"],["thanklessly"],["belittling"],["staffers"],["limeades"],["criers"],["syphilitics"],["jaundicing"],["tonsillectomies"],["innocence"],["nosedove"],["adultery"],["jephthah"],["wiper"],["precision"],["compatible"],["brightness"],["gestates"],["semi"],["inmate"],["onlookers"],["flimsier"],["recipe"],["brightening"],["sobs"],["lizzie"],["karenina"],["mumble"],["pane"],["chaise"],["declensions"],["chummiest"],["kirov"],["snobbish"],["crawlspaces"],["reemerged"],["paradigmatic"],["inappropriate"],["lie"],["luau"],["continence"],["hydrogenate"],["evasive"],["joyridden"],["acclimatized"],["expediters"],["harmonizing"],["guinevere"],["demanded"],["brainteaser"],["creamers"],["upholds"],["snowbelt"],["walt"],["animations"],["ultra"],["limoges"],["limbos"],["tranquil"],["windbreakers"],["barometer"],["signs"],["prisoning"],["green"],["derisive"],["hopping"],["homosexual"],["devotional"],["residue"],["brazenly"],["forbiddingly"],["alfredo"],["takeovers"],["glummest"],["eisenstein"],["beets"],["syntactics"],["shapeliness"],["capers"],["disenfranchisement"],["monogamous"],["impoverishes"],["unsuccessfully"],["rocky"],["reputation"],["sledgehammer"],["benchmarks"],["escutcheon"],["mandolins"],["raspy"],["bombarding"],["augusts"],["perishes"],["traditionalists"],["bothered"],["seasonings"],["organically"],["ambulatories"],["orly"],["kinking"],["grenadiers"],["corroboration"],["mussed"]]),
    (["ac","c"], [["c"],["ac"]]),
    (["",""], [["",""]]),
    (["ddddddddddg","dgggggggggg"], [["dgggggggggg"],["ddddddddddg"]]),
])
def test_group_anagrams(words, expected):
    deep_sort = lambda a: sorted([sorted(group) for group in a])
    assert deep_sort(group_anagrams(words)) == deep_sort(expected)